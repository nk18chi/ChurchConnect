# ChurchConnect Environment Variables
# =====================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files with real secrets to version control

# ==========================================
# DATABASE
# ==========================================
# PostgreSQL database connection URL
# Format: postgresql://username:password@host:port/database?schema=public
# For local development: postgresql://postgres:password@localhost:5432/churchconnect?schema=public
# For Render managed database: Use Internal Database URL from Render dashboard
DATABASE_URL="postgresql://user:password@localhost:5432/churchconnect?schema=public"

# Optional: Pooled database connection (recommended for production with connection pooling)
# For Render: Use External Database URL with ?pgbouncer=true
# DATABASE_URL_POOLED="postgresql://user:password@host:6543/database?schema=public&pgbouncer=true"

# ==========================================
# NEXTAUTH (Authentication)
# ==========================================
# NextAuth.js secret for encrypting sessions
# GENERATE: openssl rand -base64 32
# IMPORTANT: Use different secrets for development and production
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"

# Base URL for authentication callbacks
# Development: http://localhost:3000
# Production: https://churchconnect.jp (or your custom domain)
NEXTAUTH_URL="http://localhost:3000"

# For production multi-app setup, you can specify different URLs:
# NEXTAUTH_URL_WEB="https://churchconnect.jp"
# NEXTAUTH_URL_PORTAL="https://portal.churchconnect.jp"
# NEXTAUTH_URL_ADMIN="https://admin.churchconnect.jp"

# ==========================================
# APPLICATION URLS
# ==========================================
# Public web app URL
# Development: http://localhost:3000
# Production: https://churchconnect.jp
NEXT_PUBLIC_WEB_URL="http://localhost:3000"

# GraphQL API URL
# Development: http://localhost:3001
# Production: https://api.churchconnect.jp
NEXT_PUBLIC_API_URL="http://localhost:3001"

# Church Portal app URL
# Development: http://localhost:3002
# Production: https://portal.churchconnect.jp
NEXT_PUBLIC_PORTAL_URL="http://localhost:3002"

# Admin Dashboard app URL
# Development: http://localhost:3003
# Production: https://admin.churchconnect.jp
NEXT_PUBLIC_ADMIN_URL="http://localhost:3003"

# GraphQL endpoint URL
# Development: http://localhost:3001/graphql
# Production: https://api.churchconnect.jp/graphql
NEXT_PUBLIC_GRAPHQL_URL="http://localhost:3001/graphql"

# ==========================================
# CLOUDINARY (Image Upload & Storage)
# ==========================================
# Sign up: https://cloudinary.com (Free tier: 25GB storage, 25GB bandwidth/month)
# Get credentials from: Dashboard > Settings > Access Keys

# Your Cloudinary cloud name (visible in dashboard)
CLOUDINARY_CLOUD_NAME="your-cloud-name"

# API Key from Cloudinary dashboard
CLOUDINARY_API_KEY="your-api-key"

# API Secret from Cloudinary dashboard (keep this secret!)
CLOUDINARY_API_SECRET="your-api-secret"

# ==========================================
# RESEND (Email Service)
# ==========================================
# Sign up: https://resend.com
# Free tier: 100 emails/day, 3,000 emails/month
# Get API key from: Dashboard > API Keys

# Resend API key (starts with re_)
# Development: Use test API key
# Production: Use production API key with verified domain
RESEND_API_KEY="re_your_api_key_here"

# Email "From" address
# Development: Can use onboarding@resend.dev for testing
# Production: Must use verified domain (e.g., noreply@churchconnect.jp)
EMAIL_FROM="ChurchConnect <noreply@churchconnect.jp>"

# Admin email for notifications (platform admin receives system emails)
ADMIN_EMAIL="admin@churchconnect.jp"

# ==========================================
# GOOGLE reCAPTCHA v3 (Spam Prevention)
# ==========================================
# Sign up: https://www.google.com/recaptcha/admin
# Create reCAPTCHA v3 site
# Add your domains (localhost for dev, your production domain for prod)

# reCAPTCHA Site Key (public, visible in browser)
# Get from: reCAPTCHA admin console > Settings
NEXT_PUBLIC_RECAPTCHA_SITE_KEY="your-recaptcha-site-key"

# reCAPTCHA Secret Key (private, server-side only)
# Get from: reCAPTCHA admin console > Settings
RECAPTCHA_SECRET_KEY="your-recaptcha-secret-key"

# ==========================================
# STRIPE (Payment Processing)
# ==========================================
# Sign up: https://stripe.com
# Documentation: https://stripe.com/docs

# Stripe Secret Key (server-side only)
# Development: Use test key (starts with sk_test_)
# Production: Use live key (starts with sk_live_)
# Get from: Dashboard > Developers > API Keys
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key_here"

# Stripe Publishable Key (public, visible in browser)
# Development: Use test key (starts with pk_test_)
# Production: Use live key (starts with pk_live_)
# Get from: Dashboard > Developers > API Keys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key_here"

# Stripe Webhook Secret (for verifying webhook signatures)
# Get from: Dashboard > Developers > Webhooks > Add endpoint
# Development: Use Stripe CLI (stripe listen --forward-to localhost:3000/api/stripe/webhooks)
# Production: Create webhook endpoint in Stripe dashboard
STRIPE_WEBHOOK_SECRET="whsec_your_stripe_webhook_secret_here"

# ==========================================
# MONITORING & ERROR TRACKING
# ==========================================
# Sentry for error tracking and performance monitoring
# Sign up: https://sentry.io (Free tier: 5,000 errors/month)
# Create project and get DSN from: Project Settings > Client Keys (DSN)

# Sentry DSN (Data Source Name)
# For Next.js apps (web, church-portal, admin): Use NEXT_PUBLIC_SENTRY_DSN
# For API app: Use SENTRY_DSN
# Both should have the same value
NEXT_PUBLIC_SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# Environment name for Sentry (development, staging, production)
# Helps organize errors by environment in Sentry dashboard
NEXT_PUBLIC_SENTRY_ENVIRONMENT="development"
SENTRY_ENVIRONMENT="development"

# Optional: Sentry organization and project for source map uploads
# Only needed if you want to upload source maps for better error tracking
# SENTRY_ORG="your-sentry-org"
# SENTRY_PROJECT="churchconnect-web"  # Or churchconnect-portal, churchconnect-admin

# Optional: Sentry auth token for uploading source maps
# Get from: Settings > Auth Tokens
# SENTRY_AUTH_TOKEN="your-auth-token"

# Suppress Sentry configuration warnings in development
# Set to 1 to hide deprecation warnings about config file locations
SENTRY_SUPPRESS_GLOBAL_ERROR_HANDLER_FILE_WARNING="1"

# ==========================================
# FEATURE FLAGS (Optional)
# ==========================================
# Enable/disable features for gradual rollout

# Enable Google Analytics tracking
# ENABLE_ANALYTICS="true"

# Enable email notifications
# ENABLE_EMAIL_NOTIFICATIONS="true"

# Enable full-text search
# ENABLE_SEARCH="true"

# ==========================================
# API CONFIGURATION (Optional)
# ==========================================
# API server port (only needed for apps/api)
# PORT=3001

# Node environment
# NODE_ENV=development

# CORS allowed origins (only needed for apps/api)
# WEB_URL=http://localhost:3000
# CHURCH_PORTAL_URL=http://localhost:3002
# ADMIN_URL=http://localhost:3003

# ==========================================
# NOTES
# ==========================================
# - All NEXT_PUBLIC_* variables are exposed to the browser
# - Keep API secrets and private keys secure (never expose in browser)
# - Use different credentials for development and production
# - For production, consider using environment variable management services
# - Rotate secrets regularly, especially after team member changes
# - See docs/ENVIRONMENT_VARIABLES.md for detailed documentation
